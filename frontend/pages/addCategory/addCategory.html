<script src="../../alpine.min.js" defer></script>
<script src="../../jquery.min.js" defer></script>
<script src="../../common.js" ></script>

<div id="root" x-data="{ error:null }"> 
    <input type="text" name="categoryTitle" id="categoryTitle">
    <button @click="await saveCategory()" >Сохранить</button>
    <a href="/frontend/pages/main/main.html">Отменить</a>
    <span x-show="!!error" x-text="error" class="error"></span>
</div>

<script>
    async function saveCategory() {
        let title = $('#categoryTitle').val()
        let result = await addCategory(title)
        if (result) window.location.href = "/frontend/pages/categories/categories.html"
    }
</script>